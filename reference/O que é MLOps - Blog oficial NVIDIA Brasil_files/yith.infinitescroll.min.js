!function(d,t,m){"use strict";d.fn.yit_infinitescroll=function(e){var s=d.extend({nextSelector:!1,navSelector:!1,itemSelector:!1,contentSelector:!1,maxPage:!1,loader:!1,is_shop:!1},e),a=!1,c=!1,f=d(s.nextSelector).attr("href");d(s.nextSelector).length&&d(s.navSelector).length&&d(s.itemSelector).length&&d(s.contentSelector).length?d(s.navSelector).hide():c=!0;var h=d(s.contentSelector).find(s.itemSelector).first().nextUntil(".first",s.itemSelector).length+1,i=function(){var o=d(s.contentSelector).find(s.itemSelector).last();s.loader&&d(s.navSelector).after('<div class="yith-infs-loader">'+s.loader+"</div>"),a=!0,f=(f=decodeURIComponent(f)).replace(/^(?:\/\/|[^\/]+)*\//,"/"),d.ajax({url:f,dataType:"html",cache:!1,success:function(e){var t,i,n,e=d(e),r=e.find(s.itemSelector),e=e.find(s.nextSelector),l=f;e.length?f=e.attr("href"):(c=!0,d(m).trigger("yith-infs-scroll-finished")),!o.hasClass("last")&&s.is_shop&&(e=r,i=(t=h)-o.prevUntil(".last",s.itemSelector).length,n=0,e.each(function(){var e=d(this);n++,e.removeClass("first"),e.removeClass("last"),(n-i)%t==0?e.addClass("first"):(n-(i-1))%t==0&&e.addClass("last")})),o.after(r),d(".yith-infs-loader").remove(),d(m).trigger("yith_infs_adding_elem",[r,l]),r.addClass("yith-infs-animated"),setTimeout(function(){a=!1,r.removeClass("yith-infs-animated"),d(m).trigger("yith_infs_added_elem",[r,l])},1e3)}})};d(t).on("scroll touchstart",function(){d(this).trigger("yith_infs_start")}),d(t).on("yith_infs_start",function(){var e=d(this),t=d(s.itemSelector).last();void 0!==t&&!a&&!c&&e.scrollTop()+e.height()>=t.offset().top-2*t.height()&&i()})}}(jQuery,window,document);